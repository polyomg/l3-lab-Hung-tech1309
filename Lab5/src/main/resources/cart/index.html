<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Gi·ªè h√†ng</title>
</head>
<body>
<h2>Gi·ªè h√†ng c·ªßa b·∫°n</h2>

<!-- N·∫øu gi·ªè h√†ng r·ªóng -->
<div th:if="${#lists.isEmpty(items)}">
  <p>Ch∆∞a c√≥ s·∫£n ph·∫©m n√†o trong gi·ªè h√†ng.</p>
  <a th:href="@{/item/index}">‚¨Ö Quay l·∫°i mua h√†ng</a>
</div>

<!-- N·∫øu c√≥ s·∫£n ph·∫©m -->
<div th:if="${!#lists.isEmpty(items)}">
  <table border="1" cellspacing="0" cellpadding="5">
    <thead>
    <tr>
      <th>ID</th>
      <th>T√™n s·∫£n ph·∫©m</th>
      <th>ƒê∆°n gi√°</th>
      <th>S·ªë l∆∞·ª£ng</th>
      <th>Th√†nh ti·ªÅn</th>
      <th>H√†nh ƒë·ªông</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="item : ${items}" th:if="${item != null}">
      <td th:text="${item.id}">1</td>
      <td th:text="${item.name}">T√™n</td>
      <td th:text="${item.price}">0</td>
      <td>
        <form th:action="@{'/cart/update/' + ${item.id}}" method="post">
          <input type="number" name="qty" min="1" th:value="${item.qty}" style="width:50px">
          <button type="submit">C·∫≠p nh·∫≠t</button>
        </form>
      </td>
      <td th:text="${item.price * item.qty}">0</td>
      <td>
        <a th:href="@{'/cart/remove/' + ${item.id}}">X√≥a</a>
      </td>
    </tr>
    </tbody>
  </table>

  <hr>
  <p><b>T·ªïng s·ªë l∆∞·ª£ng:</b> <span th:text="${cart.count}">0</span></p>
  <p><b>T·ªïng ti·ªÅn:</b> <span th:text="${#numbers.formatDecimal(total, 0, 'COMMA', 2, 'POINT')}"></span></p>

  <a th:href="@{/cart/clear}">üóë X√≥a t·∫•t c·∫£</a> |
  <a th:href="@{/item/index}">‚¨Ö Ti·∫øp t·ª•c mua h√†ng</a>
</div>

</body>
</html>
